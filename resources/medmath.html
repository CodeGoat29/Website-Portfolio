<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Med Math Practice - DiPiazza</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="icon" type="image/png" href="/images/thegoat.png">
    <style>
        .medmath-hero {
            background: #ffffff;
            border-radius: 16px;
            border: 1px solid #e1e8ed;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            padding: 32px;
            margin-bottom: 28px;
        }

        .dark-mode .medmath-hero {
            background: #1c2938;
            border-color: #2a3f5f;
        }

        .medmath-hero h1 {
            margin: 0 0 10px;
            font-size: 2.2em;
            color: var(--primary-blue);
        }

        .medmath-hero p {
            margin: 0;
            color: #657786;
            font-size: 1.05em;
        }

        .dark-mode .medmath-hero p {
            color: #93a4b5;
        }

        .medmath-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .medmath-card {
            background: white;
            border-radius: 14px;
            padding: 22px;
            border: 1px solid #e1e8ed;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }

        .dark-mode .medmath-card {
            background: #1c2938;
            border-color: #2a3f5f;
        }

        .medmath-card h3 {
            margin: 0 0 12px;
            color: var(--primary-blue);
        }

        .medmath-card p {
            color: #657786;
            margin-bottom: 16px;
        }

        .dark-mode .medmath-card p {
            color: #93a4b5;
        }

        .question-box {
            background: #f6f8fa;
            border: 1px solid #e1e8ed;
            border-radius: 12px;
            padding: 18px;
        }

        .dark-mode .question-box {
            background: #223145;
            border-color: #2a3f5f;
        }

        .question-box p {
            margin-top: 0;
        }

        .medmath-input-row {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }

        .medmath-input-row input {
            padding: 10px 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 1em;
            width: 140px;
        }

        .dark-mode .medmath-input-row input {
            background: #1c2938;
            color: #e4e6eb;
            border-color: #2a3f5f;
        }

        .medmath-btn {
            padding: 10px 16px;
            border-radius: 8px;
            background: var(--primary-blue);
            color: #fff;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .medmath-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(47, 127, 95, 0.2);
        }

        .feedback {
            margin-top: 10px;
            font-weight: 600;
        }

        .correct { color: #22c55e; }
        .incorrect { color: #ef4444; }

        .explanation {
            margin-top: 8px;
            font-size: 0.95em;
            color: #657786;
        }

        .dark-mode .explanation {
            color: #93a4b5;
        }
    </style>
</head>
<body>
    <div class="top-controls">
        <div class="dark-mode-toggle">
            <input type="checkbox" id="darkModeToggle" class="toggle-checkbox">
            <label for="darkModeToggle" class="toggle-label">
                <span class="toggle-switch"></span>
            </label>
        </div>
    </div>

    <header>
        <div class="container header-content">
            <a href="../index.html" class="logo-link"><img src="/images/thegoat.png" alt="DiPiazza Logo" class="logo"></a>
            <div class="header-text">
                <h1>DiPiazza</h1>
                <p class="tagline">Where I break stuff, then write about it.</p>
            </div>
            <nav>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../resources.html" class="active">Resources</a></li>
                    <li><a href="../blog.html">Blog</a></li>
                    <li><a href="../resume.html">Resume</a></li>
                    <li><button class="nav-cta" type="button" data-contact-open>Get in Touch</button></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <section class="medmath-hero">
            <h1>Med Math Practice Game</h1>
            <p>Practice dose, conversion, and IV rate calculations with instant feedback.</p>
        </section>

        <section class="medmath-grid" id="game"></section>
    </main>

    <div class="contact-modal" id="contactModal">
        <div class="contact-modal-content">
            <div class="contact-modal-header">
                <h3>Get in Touch</h3>
                <button class="contact-modal-close" type="button" id="contactModalClose">✕</button>
            </div>
            <div class="contact-modal-links">
                <a href="mailto:daviddipiazza29@gmail.com" class="contact-link">Email</a>
                <a href="https://www.linkedin.com/in/david-dipiazza/" target="_blank" class="contact-link">LinkedIn</a>
                <a href="https://github.com/CodeGoat29" target="_blank" class="contact-link">GitHub</a>
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="container footer-grid">
            <div>
                <h4>Explore</h4>
                <ul>
                    <li><a href="../resources.html">Resources</a></li>
                    <li><a href="../blog.html">Blog</a></li>
                    <li><a href="../resume.html">Resume</a></li>
                </ul>
            </div>
            <div>
                <h4>Connect</h4>
                <ul>
                    <li><a href="mailto:daviddipiazza29@gmail.com">Email</a></li>
                    <li><a href="https://www.linkedin.com/in/david-dipiazza/" target="_blank">LinkedIn</a></li>
                    <li><a href="https://github.com/CodeGoat29" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </div>
        <div class="container footer-bar">
            <p>&copy; 2026 DiPiazza.org | All Rights Reserved</p>
        </div>
    </footer>

    <script>
        const questions = [
            {
                q: "Order: 500 mg. Available: 250 mg per tablet. How many tablets?",
                answer: 2,
                explanation: "500 mg ÷ 250 mg per tablet = 2 tablets."
            },
            {
                q: "Order: 1 g. Available: 250 mg tablets. How many tablets?",
                answer: 4,
                explanation: "1 g = 1000 mg. 1000 ÷ 250 = 4 tablets."
            },
            {
                q: "Order: 30 mg. Available: 10 mg/mL. How many mL?",
                answer: 3,
                explanation: "30 mg ÷ 10 mg/mL = 3 mL."
            },
            {
                q: "Order: 0.5 g. Available: 250 mg tablets. How many tablets?",
                answer: 2,
                explanation: "0.5 g = 500 mg. 500 ÷ 250 = 2 tablets."
            },
            {
                q: "Order: 1000 mL IV over 8 hours. mL/hr?",
                answer: 125,
                explanation: "1000 mL ÷ 8 hr = 125 mL/hr."
            },
            {
                q: "Order: 500 mL over 4 hours. mL/hr?",
                answer: 125,
                explanation: "500 ÷ 4 = 125 mL/hr."
            },
            {
                q: "Order: 250 mg. Available: 500 mg/5 mL. How many mL?",
                answer: 2.5,
                explanation: "500 mg in 5 mL → 250 mg is half = 2.5 mL."
            },
            {
                q: "Order: 60 mg. Available: 20 mg/mL. How many mL?",
                answer: 3,
                explanation: "60 ÷ 20 = 3 mL."
            },
            {
                q: "Order: 2 L IV fluids. How many mL?",
                answer: 2000,
                explanation: "1 L = 1000 mL → 2 L = 2000 mL."
            },
            {
                q: "Order: 0.25 g. Available: 125 mg tablets. How many tablets?",
                answer: 2,
                explanation: "0.25 g = 250 mg. 250 ÷ 125 = 2 tablets."
            },
            {
                q: "Order: 75 mL/hr for 6 hours. Total mL infused?",
                answer: 450,
                explanation: "75 × 6 = 450 mL."
            },
            {
                q: "Order: 800 mg. Available: 400 mg tablets. How many tablets?",
                answer: 2,
                explanation: "800 ÷ 400 = 2 tablets."
            }
        ];

        const gameDiv = document.getElementById("game");

        questions.forEach((item, index) => {
            const div = document.createElement("div");
            div.className = "medmath-card question-box";
            div.innerHTML = `
                <h3>Question ${index + 1}</h3>
                <p>${item.q}</p>
                <div class="medmath-input-row">
                    <input type="number" step="0.01" id="answer-${index}" placeholder="Answer">
                    <button class="medmath-btn" type="button" data-check="${index}">Check</button>
                </div>
                <div id="feedback-${index}" class="feedback"></div>
                <div id="explanation-${index}" class="explanation"></div>
            `;
            gameDiv.appendChild(div);
        });

        gameDiv.addEventListener('click', (event) => {
            const btn = event.target.closest('[data-check]');
            if (!btn) return;
            const index = Number(btn.dataset.check);
            const userAnswer = parseFloat(document.getElementById(`answer-${index}`).value);
            const feedback = document.getElementById(`feedback-${index}`);
            const explanation = document.getElementById(`explanation-${index}`);

            if (!Number.isFinite(userAnswer)) {
                feedback.textContent = "Enter a number.";
                feedback.className = "feedback incorrect";
                explanation.textContent = "";
                return;
            }

            if (userAnswer === questions[index].answer) {
                feedback.textContent = "✅ Correct!";
                feedback.className = "feedback correct";
                explanation.textContent = "";
            } else {
                feedback.textContent = "❌ Incorrect";
                feedback.className = "feedback incorrect";
                explanation.textContent = questions[index].explanation;
            }
        });
    </script>
    <script src="../js/site.js"></script>
</body>
</html>
